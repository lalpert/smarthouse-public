{% extends "base.html" %}
{% set active_page = "garage" %}

{% block style %}
<style>
    .jumbotron {
        padding-top: 15px;
    }
    .jumbotron h1 {
        font-size: 48px;
    }
    .jumbotron h2 {
        font-size: 26px;
    }
    .jumbotron button {
        font-size: 30px;
        margin: 0px 3px;
    }
    .buttons {
        margin-top: 20px;
    }
    .password-div {
        margin: 30px 0 20px 0;
    }
</style>
{% endblock %}

{% block content %}
<div class="jumbotron">
    <h1>Garage is <b><span id="garage-status">loading...</span></b></h1>

    <div class="password-div">
        <label for="password">Enter password to open/close garage: </label>
        <input type="password" id="password"/>
    </div>

    <div class="buttons">
        <button class="btn btn-success" id="open-sesame">Open</button>
        <button class="btn btn-danger" id="close-sesame">Close</button>
    </div>

<!--
    <hr>

<form>
<p>Add allowed phone number</p>
  <div class="form-group">
    <label for="number">Phone number</label>
    <input type="text" class="form-control" id="number" placeholder="Phone number">
  </div>

  <div class="form-group">
    <label for="starttime">Start time</label>
    <input type="datetime" class="form-control" id="starttime" placeholder="">
  </div>

  <div class="form-group">
    <label for="endtime">Start time</label>
    <input type="datetime" class="form-control" id="endtime" placeholder="">
  </div>


  <div class="form-group">
    <label for="password2">Password</label>
    <input type="password" class="form-control" id="password2" placeholder="Password">
  </div>

  <button type="submit" class="btn btn-default">Submit</button>
</form>

-->


</div>

{% endblock %}

{% block bottomscript %}
<script>
var GARAGE_URL = "https://agent.electricimp.com/bWTJCcDx3ebd";
function garageStatus() {
	$.ajax(GARAGE_URL + "/status", { dataType: "json" }).done(
	function(data) {
		$('#garage-status').text(data['door']['state']);
	});
}

$(garageStatus);
</script>
{% endblock %}

